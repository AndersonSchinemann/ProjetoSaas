var app = angular.module('CadastroApp', []);

app.controller('CadastroController', function($scope, $http) {
    $scope.usuario = {};

    $scope.cadastrarUsuario = function() {
        // Aqui você pode enviar os dados para o backend (Spring Boot) usando $http.post
        // Exemplo:
       for (var key in $scope.usuario) {
        if (!$scope.usuario[key]) {
          // Exibe uma mensagem de erro informando qual campo está vazio
          alert('O campo ' + key + ' é obrigatório.');
          return;
        }
      }
      $http.post('/api/usuarios', $scope.usuario)
           .then(function(response) {
		        console.log(response.data);
		        // Exibir mensagem de sucesso
		        alert('Usuário cadastrado com sucesso!');
		    })
		    .catch(function(error) {
		        console.log(error);
		        // Exibir mensagem de erro
		        alert('Erro ao cadastrar usuário. Por favor, tente novamente JS.');
			});
	  
	} 
         
});


 angular.module('CadastroApp', [])
    .controller('CadastroController', function($scope) {
      $scope.usuario = {};

      $scope.cadastrarUsuario = function() {
        if ($scope.formulario.$invalid) {
          // Exibe mensagens de erro para os campos não preenchidos
          angular.forEach($scope.formulario.$error.required, function(field) {
            field.$setDirty();
          });

          alert('Por favor, preencha todos os campos obrigatórios.');
          return;
        }

        // Lógica para enviar o formulário se todos os campos estiverem preenchidos
        console.log('Formulário submetido!');
      };
    });